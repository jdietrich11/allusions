CREATE TABLE user_list (
	id SERIAL PRIMARY KEY,
	tag VARCHAR(25) NOT NULL UNIQUE,
	nickname VARCHAR(25) NOT NULL UNIQUE,
	email VARCHAR(50) NOT NULL UNIQUE,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE cardpack_list (
	id SERIAL PRIMARY KEY,
	deck_name VARCHAR(50) NOT NULL,
	description VARCHAR(255) NOT NULL
);

CREATE TABLE purchased_cardpack (
	id SERIAL PRIMARY KEY,
	user_id INTEGER NOT NULL REFERENCES users(id),
	deck_id INTEGER NOT NULL REFERENCES cardpack_list(id),
	purchased_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE card (
	id SERIAL PRIMARY KEY,
	card_name VARCHAR(25) NOT NULL,
	card_hint VARCHAR(255) NOT NULL,
	point_value INT NOT NULL,
	image_url VARCHAR NOT NULL,
	deck_id INTEGER NOT NULL REFERENCES cardpack_list(id)
);

CREATE TABLE tag (
	id SERIAL PRIMARY KEY,
	tag_name VARCHAR(80) NOT NULL,
	card_id INTEGER NOT NULL REFERENCES card(id)
);

CREATE TABLE tag_name (
	name VARCHAR(80) PRIMARY KEY,
	id INT NOT NULL REFERENCES tag(id)
);